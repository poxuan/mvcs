# 模板编写规范

## 参数命名规范

1. 替换参数【必须】使用下划线式 如：$model_name，前缀【$】可以配置替换
2. 非替换参数【建议】使用驼峰式，防止与替换参数冲突
3. 模板中的任何方法/参数，【不要】带业务名称

## 钩子使用规范（hook）

> 钩子用于在扩展模式下，对文件进行功能扩展

1. 钩子【必须】使用所在文件相应类型的注释紧密包围，非php须明确指定；
2. 钩子仅用于填充【无顺序要求】的扩展内容到指定位置；
3. 钩子所在代码不要轻易删除，防止后续无法扩展

## 扩展使用规范（trait）

> 扩展用于在文件指定位置生成一个（组）额外的功能，用于生成和扩展

1. 双@开头的一行为位置标注行，其下的所有内容将添加到相应位置；
2. 扩展文件【应该】指定各段内容出现的位置，默认位置为body，推荐使用的有；
3. 所有与扩展格式类似的参数{name}_traits_{position}，都会在代码生成时被移除;
4. 扩展中的代码请自行对齐，不会对其进行任何格式的优化。

## 标签使用规范（tag）

> 标签用于你根据当前数据库设计或配置，选择合适的一段代码作为最终内容

1. 同种标签不可嵌套，不同标签可嵌套
2. 标签必须定义结束符，且不可交叉
3. 标签仅做switch或是否判断，一组标签最多只有一段生效

## 闭包的使用

1. 闭包，在配置文件中定义在 模板替换字段、全局替换字段、标签等位置
2. 所有的闭包均使用 model ，表字段对象数组，MvcsService 对象作为参数。
